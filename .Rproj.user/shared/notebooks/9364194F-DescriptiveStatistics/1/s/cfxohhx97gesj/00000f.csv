"0","rm(list = ls())"
"0","load(""../../1.Pre-Processing/IntermediateData/TIMSSdata.RData"") #TIMSS data"
"0","load(""../../1.Pre-Processing/IntermediateData/PISAdata.RData"") #PISA data"
"0",""
"0","#remove data object"
"0","rm(data)"
"0",""
"0","# Split all 4 datasets up into 2: train and test set"
"0","# PISA "
"0","set.seed(123)"
"0","samplePISANL <- sample(c(TRUE, FALSE), nrow(dataPISANL), replace=TRUE, prob=c(0.5,0.5))"
"0","traindataPISANL  <- dataPISANL[samplePISANL, ]"
"0","testdataPISANL   <- dataPISANL[!samplePISANL, ]"
"0",""
"0","set.seed(123)"
"0","samplePISAOthers <- sample(c(TRUE, FALSE), nrow(dataPISAOthers), replace=TRUE, prob=c(0.5,0.5))"
"0","traindataPISAOthers  <- dataPISAOthers[samplePISAOthers, ]"
"0","testdataPISAOthers   <- dataPISAOthers[!samplePISAOthers, ]"
"0",""
"0","# TIMSS"
"0","set.seed(123)"
"0","sampleTIMSSNL <- sample(c(TRUE, FALSE), nrow(dataTIMSSNL), replace=TRUE, prob=c(0.5,0.5))"
"0","traindataTIMSSNL  <- dataTIMSSNL[sampleTIMSSNL, ]"
"0","testdataTIMSSNL   <- dataTIMSSNL[!sampleTIMSSNL, ]"
"0",""
"0","set.seed(123)"
"0","sampleTIMSSOthers <- sample(c(TRUE, FALSE), nrow(dataTIMSSOthers), replace=TRUE, prob=c(0.5,0.5))"
"0","traindataTIMSSOthers  <- dataTIMSSOthers[sampleTIMSSOthers, ]"
"0","testdataTIMSSOthers   <- dataTIMSSOthers[!sampleTIMSSOthers, ]"
"0",""
"0","# Combine all test sets into one, making a new variable whichData indicating from which dataset the data comes"
"0","testdata <- bind_rows("
"0","  PISANL = testdataPISANL, "
"0","  PISAOthers = testdataPISAOthers, "
"0","  TIMSSNL = testdataTIMSSNL, "
"0","  TIMSSOthers = testdataTIMSSOthers, "
"0","  .id = ""whichData"""
"0",")"
"0",""
"0","# Combine all train sets into one"
"0","traindata <- bind_rows("
"0","  PISANL = traindataPISANL,"
"0","  PISAOthers = traindataPISAOthers,"
"0","  TIMSSNL = traindataTIMSSNL,"
"0","  TIMSSOthers = traindataTIMSSOthers,"
"0","  .id = ""whichData"""
"0",")"
"0",""
"0","traindata$whichData <- as.factor(traindata$whichData)"
"0","testdata$whichData <- as.factor(testdata$whichData)"
"0",""
"0","data <- bind_rows("
"0","  traindata %>% mutate(Set = ""Train""),"
"0","  testdata %>% mutate(Set = ""Test"")"
"0",")"
