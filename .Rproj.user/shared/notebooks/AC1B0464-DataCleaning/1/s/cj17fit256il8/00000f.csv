"0","data <- data %>% "
"0","  zap_labels() %>%"
"0","  # Rename the variable ASBG01 to gender, NA = 9 is coded as NA"
"0","    mutate("
"0","      gender = as.character(ASBG01),"
"0","      gender = dplyr::recode(gender, "
"0","                      `9` = NA_character_, "
"0","                      .default = gender), # Keep all other values the same"
"0","      gender = as.factor(gender)"
"0","    ) %>%"
"0","    dplyr::select(-ASBG01) %>%  # Drop the original variable"
"0","    "
"0","    # Rename ASBG07 to Native, NA = 9 is coded as NA"
"0","    mutate("
"0","      Native = as.numeric(ASBG07), "
"0","      Native = dplyr::recode(Native, "
"0","                     `1` = 1,"
"0","                     `2` = 0,"
"0","                     `9` = NA_real_, "
"0","                     .default = Native), # Keep all other values the same"
"0","      Native = as.factor(Native)"
"0","    ) %>%"
"0","    dplyr::select(-ASBG07) %>%  # Drop the original variable"
"0","    "
"0","    # convert person_id to factor"
"0","    mutate(person_id = as.factor(person_id)) %>%"
"0","    "
"0","    #convert the variables ASMMAT01 - ASMMAT05 to numeric"
"0","    mutate("
"0","      across("
"0","        starts_with(""ASMMAT"") | starts_with(""WGTFAC""), "
"0","        ~ as.numeric(as.character(.))"
"0","      )"
"0","    ) %>%"
"0","    "
"0","    # Standardize numerical variables"
"0","    #mutate(across(where(is.numeric), ~ scale(.) %>% as.vector()))"
"0","    mutate(across(where(is.numeric), as.double))"
"0","  "
"0","  # Convert all character variables to factors"
"0","  data[sapply(data, is.character)] <- lapply(data[sapply(data, is.character)], as.factor)"
